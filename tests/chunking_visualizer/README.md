# Chunking Visualizer 文本分块可视化工具

一个现代化的 Web 应用，用于可视化和理解智能文本分块策略。

## 🎯 功能特性

- **智能分块算法**：基于内容结构的优先级分块策略
- **实时可视化**：不同颜色高亮显示各种分割类型
- **策略解释**：详细说明分块算法的工作原理
- **统计信息**：显示分块结果的详细统计数据
- **响应式设计**：支持桌面和移动设备

## 🚀 快速开始

### 1. 安装依赖

```bash
cd tests/chunking_visualizer
pip install -r requirements.txt
```

### 2. 启动应用

```bash
python run.py
```

或者直接运行：

```bash
python app.py
```

### 3. 访问应用

打开浏览器访问：http://127.0.0.1:8000

## 📊 分块策略

应用使用以下优先级策略进行文本分块：

1. **段落分隔符** (`\n\n`) - 优先在段落边界分割，保持段落完整性
2. **换行符** (`\n`) - 在行边界分割，适合代码和列表内容  
3. **句子结尾** (`. ! ?`) - 在句子边界分割，保持句子完整性
4. **强制分割** - 当无法找到合适分割点时的兜底策略

## 🎨 颜色编码

- 🔵 **浅蓝色** - 段落分隔符分割
- 🟣 **浅紫色** - 换行符分割
- 🟢 **浅绿色** - 句子结尾分割
- 🟠 **浅橙色** - 强制分割

## 🛠️ 技术栈

- **后端**: FastAPI + Python
- **前端**: HTML5 + CSS3 + JavaScript
- **模板引擎**: Jinja2
- **分块算法**: 自定义智能分块器

## 📁 项目结构

```
chunking_visualizer/
├── app.py              # FastAPI 应用主文件
├── run.py              # 启动脚本
├── requirements.txt    # 依赖列表
├── README.md          # 说明文档
├── static/            # 静态文件
│   └── style.css      # 样式文件
└── templates/         # 模板文件
    └── index.html     # 主页模板
```

## 🔧 API 接口

### POST /api/chunk

分块文本的 JSON API 接口。

**请求体:**
```json
{
    "text": "要分块的文本内容",
    "chunk_size": 5000
}
```

**响应:**
```json
{
    "chunks": [...],
    "strategy": {...},
    "stats": {...}
}
```

## 🎮 使用示例

1. 在文本框中输入任意文本
2. 调整块大小（默认 5000 字符）
3. 点击"开始分块"或等待自动分块
4. 查看彩色高亮的分块结果
5. 了解每个块的分割策略和统计信息

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来改进这个工具！
